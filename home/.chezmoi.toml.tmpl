# The following variables are only available within this file

{{ $personalName := "Pedro Rodrigues" -}}
{{- $personalEmail := "pir.pedro@gmail.com" -}}
{{- $personalSigningKey := "426C5F3386CEEC28" -}}

{{- $workSigningKey := "426C5F3386CEEC28" -}}
{{- $workName := "Pedro Ivo Rodrigues" -}}
{{- $workEmail := "pir.pedro@gmail.com" -}}

{{- $isWork := contains "ukfed-msr" (lower .chezmoi.hostname) -}}
{{- $isPersonal := not $isWork -}}

{{- $isWsl := or (env "WSL_DISTRO_NAME") (env "IS_WSL") | not | not -}}
{{- $isFedora := lookPath "gnome-shell" | not | not -}}

sourceDir = "{{ .chezmoi.sourceDir }}"

[data]
  # Here we "export" the variables, so we can access them outside this file

  personal_name = "{{ $personalName }}"
  personal_email = "{{ $personalEmail }}"

  work_name = "{{ $workName }}"
  work_email = "{{ $workEmail }}"
  work_signing_key = "{{ $workSigningKey }}"

  is_personal = {{ $isPersonal }}
  is_work = {{ $isWork }}
  is_wsl = {{ $isWsl }}

  {{- if $isPersonal }}
  name = "{{ $personalName }}"
  email = "{{ $personalEmail }}"
  signing_key = "{{ $personalSigningKey }}"

  {{- else }}
  name = "{{ $workName }}"
  email = "{{ $workEmail }}"
  signing_key = "{{ $workSigningKey }}"
  {{- end }}

  {{- if or (lookPath "code") }}
  editor = "code --wait"
  {{- else if lookPath "vim" }}
  editor = "vim"
  {{- else if lookPath "nano" }}
  editor = "nano"
  {{- else }}
  editor = "vi"
  {{- end }}

  locale = "en_US.UTF-8"
  language = "en_US.UTF-8"

[diff]
  exclude = ["scripts"]
  
[sourceVCS]
  autoCommit = true

[template]
  options = ["missingkey=zero"]