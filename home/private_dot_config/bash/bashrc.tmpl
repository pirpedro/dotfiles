#!/usr/bin/env bash
# shellcheck shell=bash
# Generated by chezmoi â€” do not edit this file directly.
# Sources: .chezmoitemplates/shell/bash/*.bash
# Disabled markers:
#   - filename ends with ".disabled"
#   - file content contains "# @disabled"


{{- $src := .chezmoi.sourceDir -}}
{{- $absPattern := joinPath $src ".chezmoitemplates/shell/bash/*.bash" -}}
{{- $files := (glob $absPattern | sortAlpha) -}}

{{- range $f := $files -}}
  {{- $name := lower $f -}}
  {{- $isLinux  := contains "linux"  $name -}}
  {{- $isDarwin := contains "darwin" $name -}}
  {{- $isDisabledName := contains ".disabled." $name -}}

  {{- $bn := base $f -}}
  {{- $content := include $f -}}
  {{- if not $isDisabledName }}
    {{- if or
          (and $isLinux  (eq $.chezmoi.os "linux"))
          (and $isDarwin (eq $.chezmoi.os "darwin"))
          (and (not $isLinux) (not $isDarwin))
        }}
{{ includeTemplate $f $ | trim }}
    {{- end }}
  {{- end }}
{{- end }}

bash_dir="$XDG_CONFIG_HOME/bash/bash.d"

if [ -d "$bash_dir" ]; then
  for f in "$bash_dir/*.bash"; do
    [ -f "$f" ] && . "$f"
  done
fi
